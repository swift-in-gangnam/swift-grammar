# 구조체와 클래스

## 구조체

- 구조체를 정의 한다는 것은 새로운 타입을 생성해주는 것
- 구조체의 인스턴스는 값 타입

- 구조체의 키워드로는 **struct**가 있다.

```swift
struct BasicInformation {    // BasicinFormation(구조체 이름)
    var name: String
    var age: int
}
```



## 클래스

- 클래스의 인스턴스는 참조 타입
- **class** 라는 키워드를 사용

```swift
class Person {			// person(클래스 이름)
    var height: Float = 0.0
    var weight: Float = 0.0  // 프로퍼티와 메서드들
}
```

- 클래스를 정의한 후, 인스턴스를 생성하고 초기화 하고자 할 떄는 기본적인 이니셜라이저 사용

```swift
var mook: Person = Person()  // 이니셜 라이저
mook.height = 123.4
mook.weight = 123.4

let hye: Person = Person() 
hye.height = 123.4
hye.weight = 123.4
```

### 인스턴스 소멸

- 클래스의 인스턴스는 참조 타입이므로 더는 참조할 필요가 없을 때 메모리에서 해제
- deinit 이라는 메서드를 사용한다 = 디이니셜라이저 라고 부름





## 구조체와 클래스의 차이

### 비슷한점

- 값을 저장하기 위해 프로퍼티를 정의할 수 있다.
- 기능 실행을 위해 메서드를 정의 할 수 있다.
- 서브스크립트 문법을 통해 구조체 또는 클래스가 갖는 값(프로퍼티)에 접근하도록 서브스크립트에 정의 할 수 있다.
- 초기화될 때의 상태를 지정하기 위해 이니셜라이저를 정의할 수 있다.
- 초기구현과 더불어 새로운 기능 추가를 위해 익스텐션을 통해 확장 가능
- 특정 기능을 실행하기 위해 특정 프로토콜을 준수할 수 있다.

### 다른점

- 구조체를 상속할 수 없다.
- 타입캐스팅은 클래스의 인스턴스에만 허용
- 디이니셜라이저는 클래스의 인스턴스에만 활용 가능
- 참조 횟수 계산은 클래스의 인스턴스에만 적용가능



**구조체는 값 타입 , 클래스는 참조 타입** 

**값 타입은 전달될 값이 복사되어 전달,  참조 타입은 전달인자로 전달될 때는 값 복사하지 않고 참조**

**(주소)전달**



# 프로퍼티와 메서드

- **프로퍼티**: 클래스,구조체 또는 열거형 등에 관련된 값
- **메서드**: 특정 타입에 관련된 함수 

## 프로퍼티

### 저장 프로퍼티

- 인스턴스의 변수 또는 상수를 의미
- 구조체와 클래스에서만 사용할 수 있다.
- 클래스 또는 구조체의 인스턴스와 연관된 값을 저장하는 프로퍼티 이다

- 저장 프로퍼티는 **var **키워드를 사용시 변수 저장 프로퍼티, **let** 키워드를 사용시 상수 저장 프로퍼티
- 구조체는 프로퍼티에 맞는 이니셜라이저를 자동으로 제공 , 클래스에서는 제공하지 않는다.
  - **하지만** 클래스의 저장 프로퍼티에 초깃값을 지정해주면 따로 사용자 정의 이니셜라이저 구현할 필요 x

####  지연 저장 프로퍼티

클래스의 인스턴스의 저장프로퍼티로 다른 클래스 인스턴스나 구조체 인스턴스를 할당해야 할때 사용

```swift
struct Point{
    var x: Int = 0               //  저장 프로퍼티
    var y: Int = 0
}

class Position{
    lazy var point: Point = Point()
    let name: String
    
    init(name: String) {
        self.name = name
    }
}

let position: Position = Position(name: "mook")

```

#### 연산 프로퍼티

실제 값을 저장하는 프로퍼티 X , **특정 상태에 따른 값을 연산하는 프로퍼티**

- 인스턴스 내/외부의 값을 연산하여 적절한 값을 돌려주는 접근자(getter) 역할
- 은닉화된 내부의 프로퍼티 값을 간접적으로 설정하는 설정자(setter)역할
- newValue 로 매개 변수 생략가능

#### 프로퍼티 감시자

프로퍼티 감시자는 프로퍼티의 값이 새로 할당될 떄마다 호출(변경되는 값이 현재 값과 같더라도 호출)

- willSet : 값이 변경되기 직전 호출
- didSet : 값이 변경된 직후에 호출



#### 타입 프로퍼티

- **static** 으로 선언
- 저장 타입 프로퍼티(**반드시 초깃값을 설정**), 연산 타입 프로퍼티
- 모든 타입의 공통적인 값을 정의하는 데 쓰인다.

#### 키 경로

- 값을 바로 꺼내오는 것이 아닌 프로퍼티 위치만 참조하는 것

#### method

- 특정 타입에 관련된 함수이다



# 인스턴스 생성 및 소멸

## 인스턴스 생성

- **이니셜라이저**를 정의하면 초기화 과정을 직접 구현 가능
- **이니셜라이저** 는 반환 값이 없다.
- **func** 키워드 사용하지 않는다 , only **init** 키워드만 사용

## 프로퍼티의 기본 값

옵셔널이 아닐 경우 모든 저장 프로퍼티에 적절한 **초깃값**을 할당

## 이니셜라이저 매개변수

- 초기화 할 때 매개변수로 값을 받을 수 있다.
- **self** 프로퍼티를 사용하여 매개변수와 다르게 표시가 가능하다.

## 기본 이니셜라이저와 멤버와이즈 이니셜라이저

- **기본 이니셜라이져**: 사용자 정의 이니셜라이저를 정의해주지 않으면 클래스나 구조체는 모든 프로퍼티에 기본값이 지정되어 있다는 전제하에 사용 가능하다.

- **멤버 와이즈 이니셜라이저**: 구조체만 지원이 가능하며 클래스는 지원하지 않는다.

 

## 초기화 위임

- 중복되는 코드를 작성하지 않아도 된다.
- 구조체와 열거형은 초기화 위임 구현 가능 하다
- 클래스의 경우 상속을 지원하므로 초기화 위임 불가
- **self.init**

## 실패 가능한 이니셜라이저

- 매개변수로 전달될때, 초기 값이 잘못 지정 되 있는 경우
- **init?** 사용



# 접근제어

## 접근제어란

- 파일 간 또는 모듈 간에 접근을 제한할 수 있는 기능
- 상세 구현은 숨기고 허용된 기능만 사용하는 인터페이스를 제공



## 접근 수준에 따른 키워드

- open,public,internal,fileprivate,private



### open  - 개방 접근수준

- public 보다 높다
- 클래스와 클래스 멤버에서만 사용 가능하다
- 모듈 밖의 다른 모듈에서도 상속, 재정의 가능

### public - 공개 접근수준

- 어디서든 사용이 가능하다
- 외부와 연결될 인터페이스를 구현하는데 많이 쓰인다

### internal - 내부 접근수준

- 기본적으로 모든 요소에 암묵적으로 지정하는 기본 접근수준

### fileprivate - 파일 외부 비공개 접근 수준

- 하나의 파일 내에서만 접근이 가능하다

### private - 비공개 접근수준

- 정의한 블록 내부에서만 접근 가능하다  (가장 한정적인 범위)
- 같은 파일 내부에 다른 타입 코드가 있더라도 접근이 불가능하다





